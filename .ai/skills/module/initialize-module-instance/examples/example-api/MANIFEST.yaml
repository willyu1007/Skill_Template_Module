# Module Manifest (SSOT)
#
# This file is the single source of truth for module metadata.
# After editing, run:
#   node .ai/scripts/modules/modulectl.mjs registry-build
#   node .ai/scripts/modules/flowctl.mjs update-from-manifests
#   node .ai/scripts/modules/flowctl.mjs lint

module_id: example.api
module_type: http_api
description: "Example API module demonstrating the module-first template structure"
status: active

# Participation in business flows (quick lookup)
participates_in:
  - flow_id: user_management
    node_id: create_user
    role: primary
  - flow_id: user_management
    node_id: get_user
    role: primary
  - flow_id: user_management
    node_id: list_users
    role: primary

# Interfaces exposed by this module
interfaces:
  - id: http_api.create_user
    protocol: http
    method: POST
    path: /api/users
    description: "Create a new user"
    status: active
    implements:
      - flow_id: user_management
        node_id: create_user
        variant: default

  - id: http_api.get_user
    protocol: http
    method: GET
    path: /api/users/:id
    description: "Get user by ID"
    status: active
    implements:
      - flow_id: user_management
        node_id: get_user
        variant: default

  - id: http_api.list_users
    protocol: http
    method: GET
    path: /api/users
    description: "List all users"
    status: active
    implements:
      - flow_id: user_management
        node_id: list_users
        variant: default

  - id: http_api.health
    protocol: http
    method: GET
    path: /health
    description: "Health check endpoint"
    status: active

# Dependencies on other modules (optional)
dependencies: []
